<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VOTING SYSTEM</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js">
    </script>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f8f9fa;
        }
        .card {
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .form-control input[type="number"] {
            margin-bottom: 20px;
        }
        .candidate-option {
            display: flex;
            align-items: center;
            margin: 0 10px;
        }
        .candidate-option img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 50%;
            margin-right: 10px;
        }
        .candidate-option label {
            margin-right: 10px;
        }
        .candidate-option input[type="radio"] {
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card rounded">
            <h1 class="text-center mb-4">VOTING SYSTEM</h1>
            <div class="container text-center mb-3">
                <form method="post" class="form-control" action="/vote">
                    <input type="number" id="user_phone" name="user_phone" class="form-control" placeholder="Enter phone number" required>
                    
                    <div class="d-flex justify-content-center">
                        <div class="candidate-option">
                            <input class="form-check-input" type="radio" name="candidate_id" id="candidate1" value="1">
                            <img src="https://mir-s3-cdn-cf.behance.net/project_modules/disp/97167a23753711.5632845400ffe.gif" alt="Candidate 1">
                            <label class="form-check-label" for="candidate1">chocolate</label>
                        </div>
                        <div class="candidate-option">
                            <input class="form-check-input" type="radio" name="candidate_id" id="candidate2" value="2">
                            <img src="https://media.tenor.com/u1dFXpAyJnwAAAAM/national-vanilla-ice-cream-day-ice-cream-cone.gif" alt="Candidate 2">
                            <label class="form-check-label" for="candidate2">vanilla</label>
                        </div>
                        <div class="candidate-option">
                            <input class="form-check-input" type="radio" name="candidate_id" id="candidate3" value="3">
                            <img src="https://media.tenor.com/Lj9nGfGsCcAAAAAM/oreo-cheesecake.gif" alt="Candidate 3">
                            <label class="form-check-label" for="candidate3">oreo</label>

                                
                            </label>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary mt-3" type="submit" onclick="return validatePhoneNumber()">Submit</button>
                </form>

                <canvas id="myChart" style="width:80%;max-width:300px"></canvas>

            </div>
        </div>
    </div>

    <script>
        // Sample data for the chart
        const xValues = JSON.parse('<%- JSON.stringify(xVal) %>');
        const yValues = JSON.parse('<%- JSON.stringify(yVal) %>');
        const barColors = ["purple", "yellow", "red"];

        new Chart("myChart", {
            type: "bar",
            data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                }]
            },
            options: {
                legend: { display: false },
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                }
            }
        });

        // Function to validate phone number
        function validatePhoneNumber() {
            var phoneNumber = document.getElementById('user_phone').value;
            if (phoneNumber.length !== 10) {
                alert("Please enter a 10-digit phone number.");
                return false; // Prevent form submission
            }
            return true; // Allow form submission
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
